config p2p 'main'
	option enabled '1'
	option node_name ''
	option discovery_enabled '1'
	option discovery_method 'mdns'
	option sharing_enabled '1'
	option auto_sync '1'
	option sync_interval '60'
	# Multi-address mesh support
	option advertise_wan '1'
	option advertise_wireguard '1'
	option prefer_wireguard '1'

config dns_federation 'dns'
	option enabled '0'
	option primary_dns '127.0.0.1:53'
	option sync_enabled '1'
	option base_domain 'sb.local'

config wireguard_mesh 'wireguard'
	option enabled '0'
	option listen_port '51820'
	option network_cidr '10.100.0.0/24'
	option auto_configure '1'

config haproxy 'haproxy'
	option enabled '0'
	option strategy 'round-robin'
	option health_check '1'
	option failover '1'

config hub_registry 'registry'
	option base_url 'sb.local'
	option cache_enabled '1'
	option cache_ttl '300'

config maas 'maas'
	option enabled '0'
	option auto_register '1'
	option sync_interval '60'

config gitea 'gitea'
	option enabled '0'
	option server_url ''
	option repo_name 'secubox-backup'
	option repo_owner ''
	option access_token ''
	option auto_backup '0'
	option backup_interval '3600'
	option backup_on_change '1'
	option include_configs '1'
	option include_packages '1'
	option include_scripts '1'

config backup 'backup'
	option enabled '1'
	option backup_dir '/etc/secubox/backups'
	option max_backups '10'
	option auto_cleanup '1'

config p2p_feed 'feed'
	option enabled '1'
	option share_feed '1'
	option auto_sync '1'
	option sync_interval '3600'
	option prefer_local '1'
	option cache_ttl '300'

config threat_intel 'threat_intel'
	option enabled '1'
	option auto_apply '1'
	option apply_transitive '1'
	option min_severity 'high'
	option collect_interval '900'
	option max_iocs_per_batch '20'
	option ioc_ttl '86400'
